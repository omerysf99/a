<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MrBlastCoins - Mining</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            -webkit-user-select: none; 
            user-select: none; 
            background-color: #ffffff;
            color: #0f172a;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: slideUp 0.4s ease-out; }
        @keyframes slideUp { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        
        .mining-circle {
            background: radial-gradient(circle, #f8fafc 0%, #f1f5f9 100%);
            box-shadow: 0 20px 50px rgba(0,0,0,0.05);
            border: 8px solid #f8fafc;
        }
        .nav-active { color: #2563eb; transform: translateY(-2px); transition: all 0.3s; }
        .nav-active i { filter: drop-shadow(0 4px 6px rgba(37, 99, 235, 0.2)); }
        
        /* Sağ tık ve seçim engelleme */
        * { -webkit-tap-highlight-color: transparent; outline: none; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="adminPanel" class="fixed inset-0 bg-white z-[100] hidden flex flex-col">
        <div class="p-6 border-b flex justify-between items-center bg-gray-50">
            <div>
                <h1 class="text-xl font-extrabold text-blue-600">Admin Dashboard</h1>
                <p class="text-xs text-gray-500">Admin ID: <span id="adminIdDisplay"></span></p>
            </div>
            <button onclick="toggleAdmin(false)" class="bg-gray-200 p-2 rounded-full w-10 h-10 flex items-center justify-center">
                <span class="text-xl">&times;</span>
            </button>
        </div>
        <div class="p-6 overflow-y-auto flex-1 space-y-6">
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-blue-50 p-4 rounded-2xl border border-blue-100">
                    <p class="text-xs text-blue-600 font-bold mb-1">Toplam Kullanıcı</p>
                    <p class="text-2xl font-black">2.842</p>
                </div>
                <div class="bg-orange-50 p-4 rounded-2xl border border-orange-100">
                    <p class="text-xs text-orange-600 font-bold mb-1">Bekleyen Çekim</p>
                    <p class="text-2xl font-black">14</p>
                </div>
            </div>
            
            <div>
                <h3 class="font-bold mb-3 flex items-center gap-2"><i class="fa-solid fa-magnifying-glass text-gray-400"></i> Kullanıcı Ara</h3>
                <input type="text" placeholder="Telegram ID Yazın..." class="w-full bg-gray-100 border-none p-4 rounded-2xl text-sm focus:ring-2 ring-blue-500">
            </div>

            <div>
                <h3 class="font-bold mb-3">Son Çekim Talepleri</h3>
                <div class="space-y-3" id="withdrawList">
                    <div class="bg-white border p-4 rounded-2xl flex justify-between items-center shadow-sm">
                        <div>
                            <p class="text-sm font-bold">ID: 5938210</p>
                            <p class="text-xs text-green-600 font-medium">12.50 USDT</p>
                        </div>
                        <button class="bg-blue-600 text-white text-xs px-4 py-2 rounded-xl font-bold">Onayla</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-md mx-auto min-h-screen pb-28 relative">
        
        <header class="p-6 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-black rounded-2xl flex items-center justify-center shadow-lg shadow-black/10">
                    <span class="text-white text-xl font-black italic">M</span>
                </div>
                <div>
                    <h1 class="font-black text-lg leading-tight">MrBlastCoins</h1>
                    <div class="flex items-center gap-1">
                        <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                        <p class="text-[10px] text-gray-500 font-bold uppercase tracking-wider">Cloud Mining Active</p>
                    </div>
                </div>
            </div>
            <div id="adminBadge" onclick="toggleAdmin(true)" class="hidden bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-[10px] font-black border border-blue-100 cursor-pointer">ADMIN</div>
        </header>

        <section id="mining" class="tab-content active px-6">
            <div class="mining-circle w-64 h-64 rounded-full mx-auto flex flex-col items-center justify-center mb-8 relative">
                <div class="absolute inset-0 rounded-full border-2 border-dashed border-gray-200 animate-[spin_20s_linear_infinite]"></div>
                <img src="https://cryptologos.cc/logos/tether-usdt-logo.png" class="w-12 h-12 mb-4 drop-shadow-lg" alt="USDT">
                <h2 class="text-2xl font-black tracking-tight" id="balanceDisplay">0.000000</h2>
                <p class="text-[10px] font-extrabold text-gray-400 mt-1 uppercase tracking-widest">Available USDT</p>
            </div>

            <div class="flex justify-between items-center mb-6 px-2">
                <div>
                    <p class="text-xs text-gray-400 font-bold uppercase tracking-tighter">Current Power</p>
                    <p class="text-xl font-black"><span id="powerDisplay">0.00</span> <span class="text-blue-600 text-sm">GH/s</span></p>
                </div>
                <div class="text-right">
                    <p class="text-xs text-gray-400 font-bold uppercase tracking-tighter">Daily Profit</p>
                    <p class="text-xl font-black text-green-500">$<span id="dailyProfitDisplay">0.00</span></p>
                </div>
            </div>

            <div class="bg-gray-50 border border-gray-100 p-4 rounded-3xl mb-4 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center">
                        <i class="fa-brands fa-telegram text-xl"></i>
                    </div>
                    <div>
                        <p class="text-[11px] font-bold text-gray-400 uppercase">Telegram Bonus</p>
                        <p class="text-sm font-black">Kanala Katıl (+0.1 GH)</p>
                    </div>
                </div>
                <a href="https://t.me/KanalLinkiniz" class="bg-white shadow-sm border px-4 py-2 rounded-xl text-xs font-bold">Katıl</a>
            </div>

            <button onclick="watchAd()" class="w-full bg-black text-white p-5 rounded-3xl font-black text-sm flex items-center justify-center gap-3 active:scale-[0.98] transition-all shadow-xl shadow-black/10">
                <i class="fa-solid fa-bolt-lightning text-yellow-400"></i>
                REKLAM İZLE (+0.01 GH/S)
            </button>
        </section>

        <section id="team" class="tab-content px-6">
            <h2 class="text-2xl font-black mb-6 italic">My Team</h2>
            <div class="bg-blue-600 p-6 rounded-[2rem] text-white shadow-xl shadow-blue-200 mb-6">
                <p class="text-xs font-bold opacity-80 uppercase tracking-widest mb-1">Referral Reward</p>
                <h3 class="text-xl font-black mb-4">Her Arkadaşın İçin<br>+0.05 GH/s Kazan!</h3>
                <div class="flex gap-2">
                    <input type="text" readonly value="https://t.me/MrBlastBot?start=8392479231" id="refLink" class="bg-white/10 border border-white/20 p-3 rounded-xl flex-1 text-xs font-bold outline-none">
                    <button onclick="copyLink()" class="bg-white text-blue-600 px-4 rounded-xl text-xs font-black italic">COPY</button>
                </div>
            </div>
            <div class="bg-gray-50 p-5 rounded-3xl border border-gray-100">
                <p class="text-xs font-bold text-gray-400 uppercase mb-4">Team Statistics</p>
                <div class="flex justify-between items-center">
                    <span class="font-bold text-sm">Toplam Davet Edilen:</span>
                    <span class="font-black text-lg" id="teamCount">0</span>
                </div>
            </div>
        </section>

        <section id="wallet" class="tab-content px-6">
            <h2 class="text-2xl font-black mb-6 italic">Wallet</h2>
            <div class="grid grid-cols-2 gap-4 mb-6">
                <div class="bg-white p-5 rounded-3xl border shadow-sm">
                    <p class="text-[10px] text-gray-400 font-extrabold uppercase mb-1">Balance</p>
                    <p class="text-lg font-black" id="walletBalance">0.00</p>
                    <p class="text-[10px] text-green-500 font-bold leading-none">USDT (BEP20)</p>
                </div>
                <div class="bg-white p-5 rounded-3xl border shadow-sm">
                    <p class="text-[10px] text-gray-400 font-extrabold uppercase mb-1">Mission Points</p>
                    <p class="text-lg font-black text-orange-500" id="walletPoints">0</p>
                    <p class="text-[10px] text-orange-400 font-bold leading-none">Task Point</p>
                </div>
            </div>

            <div class="bg-gray-900 p-6 rounded-[2rem] text-white shadow-2xl">
                <h3 class="text-lg font-black mb-4 flex items-center gap-2">
                    <i class="fa-solid fa-paper-plane text-blue-400"></i> Çekim Yap
                </h3>
                <div class="space-y-4">
                    <div>
                        <label class="text-[10px] font-bold text-gray-400 ml-2 uppercase">Miktar</label>
                        <input type="number" id="withdrawAmount" placeholder="Min 5.00 USDT" class="w-full bg-white/10 border border-white/10 p-4 rounded-2xl text-sm font-bold focus:bg-white/20 outline-none transition-all">
                    </div>
                    <div>
                        <label class="text-[10px] font-bold text-gray-400 ml-2 uppercase">Cüzdan Adresi</label>
                        <input type="text" placeholder="0x... USDT Adresiniz" class="w-full bg-white/10 border border-white/10 p-4 rounded-2xl text-sm font-bold focus:bg-white/20 outline-none transition-all">
                    </div>
                    <div class="p-4 bg-blue-600/20 rounded-2xl border border-blue-500/30">
                        <p class="text-[10px] font-bold text-blue-300 italic">Bilgi: Her 1$ çekim için 25 Görev Point gereklidir. Puanlar reklam izleyerek kazanılır.</p>
                    </div>
                    <button onclick="processWithdraw()" class="w-full bg-blue-600 p-4 rounded-2xl font-black text-sm uppercase tracking-widest active:scale-95 transition-all">Çekim Talebi Gönder</button>
                </div>
            </div>
        </section>

        <section id="profile" class="tab-content px-6 text-center">
            <div class="w-24 h-24 bg-gray-100 rounded-[2.5rem] mx-auto mb-4 flex items-center justify-center border-4 border-white shadow-lg overflow-hidden">
                <img id="userAvatar" src="https://ui-avatars.com/api/?name=User&background=0D8ABC&color=fff" class="w-full h-full object-cover">
            </div>
            <h2 class="font-black text-xl mb-1" id="profileName">Kullanıcı</h2>
            <p class="text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-8" id="profileId">ID: 00000000</p>
            
            <div class="space-y-3">
                <div class="bg-gray-50 p-4 rounded-2xl flex justify-between items-center text-sm font-bold">
                    <span class="text-gray-400">Dil / Language</span>
                    <span>Türkçe</span>
                </div>
                <div class="bg-gray-50 p-4 rounded-2xl flex justify-between items-center text-sm font-bold">
                    <span class="text-gray-400">Hesap Tipi</span>
                    <span class="text-blue-600">Standart Miner</span>
                </div>
                <div class="bg-red-50 p-4 rounded-2xl flex justify-between items-center text-sm font-black text-red-500">
                    <span>Destek & Yardım</span>
                    <i class="fa-solid fa-headset text-lg"></i>
                </div>
            </div>
        </section>

        <nav class="fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-md border-t px-6 py-4 flex justify-between items-center z-50">
            <button onclick="switchTab('mining')" class="nav-btn nav-active flex flex-col items-center gap-1">
                <i class="fa-solid fa-cube text-xl"></i>
                <span class="text-[9px] font-black uppercase">Mining</span>
            </button>
            <button onclick="switchTab('team')" class="nav-btn text-gray-400 flex flex-col items-center gap-1">
                <i class="fa-solid fa-user-group text-xl"></i>
                <span class="text-[9px] font-black uppercase">My Team</span>
            </button>
            <button onclick="switchTab('wallet')" class="nav-btn text-gray-400 flex flex-col items-center gap-1">
                <i class="fa-solid fa-wallet text-xl"></i>
                <span class="text-[9px] font-black uppercase">Wallet</span>
            </button>
            <button onclick="switchTab('profile')" class="nav-btn text-gray-400 flex flex-col items-center gap-1">
                <i class="fa-solid fa-shield-halved text-xl"></i>
                <span class="text-[9px] font-black uppercase">Profile</span>
            </button>
        </nav>

    </div>

    <script src="https://kit.fontawesome.com/your-kit-code.js" crossorigin="anonymous"></script>
    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // Admin Bilgisi
        const ADMIN_ID = 8392479231;
        
        // Kullanıcı Verisi (Yerel depolama simülasyonu)
        let user = {
            id: tg.initDataUnsafe?.user?.id || 12345678,
            name: tg.initDataUnsafe?.user?.first_name || "MrBlast User",
            hashrate: 0.00,
            balance: 0.000000,
            points: 0,
            refs: 0
        };

        // Başlangıç Ayarları
        function initApp() {
            document.getElementById('profileName').innerText = user.name;
            document.getElementById('profileId').innerText = "ID: " + user.id;
            document.getElementById('adminIdDisplay').innerText = user.id;
            
            // Admin kontrolü
            if (user.id == ADMIN_ID) {
                document.getElementById('adminBadge').classList.remove('hidden');
            }

            // Referans Kontrolü (start_param)
            const startParam = tg.initDataUnsafe?.start_param;
            if (startParam) {
                user.hashrate += 0.05;
                user.refs += 1;
                tg.showAlert("Referans ile katıldınız! +0.05 GH/s Kazandınız.");
            }
            updateDisplay();
        }

        // Mining Motoru
        setInterval(() => {
            if (user.hashrate > 0) {
                // 1 GH/s = 0.0987 USD/gün
                const profitPerSec = (user.hashrate * 0.0987) / 86400;
                user.balance += profitPerSec;
                updateDisplay();
            }
        }, 1000);

        function updateDisplay() {
            document.getElementById('balanceDisplay').innerText = user.balance.toFixed(6);
            document.getElementById('powerDisplay').innerText = user.hashrate.toFixed(2);
            document.getElementById('dailyProfitDisplay').innerText = (user.hashrate * 0.0987).toFixed(3);
            document.getElementById('walletBalance').innerText = user.balance.toFixed(4) + " USDT";
            document.getElementById('walletPoints').innerText = user.points;
            document.getElementById('teamCount').innerText = user.refs;
        }

        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('nav-active', 'text-gray-400'));
            
            document.getElementById(tabId).classList.add('active');
            event.currentTarget.classList.add('nav-active');
            
            // Diğer butonları gri yap
            document.querySelectorAll('.nav-btn').forEach(b => {
                if(!b.classList.contains('nav-active')) b.classList.add('text-gray-400');
            });
        }

        function toggleAdmin(show) {
            document.getElementById('adminPanel').style.display = show ? 'flex' : 'none';
        }

        function watchAd() {
            // ADEXIUM ENTEGRASYON NOKTASI
            // Buraya Adexium reklam SDK kodunu koyacaksınız
            tg.showConfirm("Reklamı izleyip gücünü artırmak istiyor musun?", (ok) => {
                if(ok) {
                    user.hashrate += 0.01;
                    user.points += 5; // Her reklam 5 puan (örnek)
                    tg.showAlert("Güç Arttı: +0.01 GH/s | Puan: +5");
                    updateDisplay();
                }
            });
        }

        function processWithdraw() {
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            if (amount < 5) {
                tg.showAlert("Minimum çekim 5 USDT.");
                return;
            }
            const reqPoints = amount * 25;
            if (user.points < reqPoints) {
                tg.showAlert(`Yetersiz Puan! Bu çekim için ${reqPoints} Görev Point lazım.`);
                return;
            }
            tg.showPopup({
                title: 'Onay',
                message: `${amount} USDT çekim talebi gönderilsin mi?`,
                buttons: [{type: 'ok'}, {type: 'cancel'}]
            });
        }

        function copyLink() {
            const link = document.getElementById('refLink');
            link.select();
            document.execCommand('copy');
            tg.showAlert("Referans linki kopyalandı!");
        }

        initApp();
    </script>
</body>
</html>
